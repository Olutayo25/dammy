<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naija Bites - Authentic Nigerian Food Delivery</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="Authentic Nigerian food delivered fresh to your door across Lagos">
    <meta name="keywords" content="Nigerian food, jollof rice, egusi, delivery, Lagos, African cuisine">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#008751">
</head>
<body>
    <!-- Push Notification Banner -->
    <div class="notification-banner" id="notificationBanner" style="display: none;">
        <div class="notification-banner-content">
            <div class="notification-info">
                <i class="fas fa-bell"></i>
                <div>
                    <h4>Stay Updated!</h4>
                    <p>Get notified about deals, flash sales, and order updates</p>
                </div>
            </div>
            <div class="notification-actions">
                <button class="allow-notifications-btn" onclick="requestNotificationPermission()">
                    <i class="fas fa-bell"></i> Allow Notifications
                </button>
                <button class="dismiss-notification-btn" onclick="dismissNotificationBanner()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Location Selection Modal -->
    <div class="location-modal" id="locationModal">
        <div class="location-modal-content">
            <div class="location-header">
                <h3><i class="fas fa-map-marker-alt"></i> Choose Your Location</h3>
                <p>Select your location to see available dishes and delivery options</p>
            </div>
            <div class="location-loading" id="locationLoading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading locations...</p>
            </div>
            <div class="location-options" id="locationOptions">
                <!-- Locations will be loaded dynamically -->
            </div>
            <div class="location-modal-footer">
                <p><i class="fas fa-info-circle"></i> You can change your location anytime from the header</p>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-utensils"></i>
                    <span>Naija Bites</span>
                </div>
                
                <div class="header-controls">
                    <div class="location-selector" onclick="showLocationModal()">
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="selectedLocation">Select Location</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    
                    <div class="delivery-toggle">
                        <label class="switch">
                            <input type="checkbox" id="deliveryToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="delivery-label">Delivery</span>
                    </div>
                    
                    <div class="refresh-controls">
                        <button class="refresh-btn" onclick="refreshData()" title="Refresh menu">
                            <i class="fas fa-sync-alt"></i>
                            <span class="refresh-text">Refresh</span>
                        </button>
                    </div>
                    
                    <div class="cart-icon" onclick="toggleCart()">
                        <i class="fas fa-shopping-bag"></i>
                        <span class="cart-count" id="cartCount">0</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Authentic Nigerian Food Delivered Fresh</h1>
                <p>From tasty Jollof rice to hearty Egusi soup - enjoy your favorite Nigerian dishes delivered hot to your door</p>
                <div class="hero-features">
                    <div class="feature">
                        <i class="fas fa-motorcycle"></i>
                        <span>Fast Delivery</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-fire"></i>
                        <span>Served Hot</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="activeLocationsCount">Loading...</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-heart"></i>
                        <span>Authentic Taste</span>
                    </div>
                </div>
                <div class="hero-cta">
                    <button class="cta-btn" onclick="scrollToProducts()">
                        <i class="fas fa-utensils"></i>
                        Order Now
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Deals Section -->
    <section class="deals-section" id="dealsSection" style="display: none;">
        <div class="container">
            <div class="deals-header">
                <h2><i class="fas fa-fire"></i> Today's Deals</h2>
                <div class="deals-timer" id="dealsTimer">
                    <i class="fas fa-clock"></i>
                    <span>Refreshing deals...</span>
                </div>
            </div>
            
            <!-- Daily Deals -->
            <div class="daily-deals" id="dailyDeals" style="display: none;">
                <div class="deals-category-header">
                    <h3><i class="fas fa-calendar-day"></i> Daily Special</h3>
                    <span class="deal-badge">Today Only</span>
                </div>
                <div class="deals-grid" id="dailyDealsGrid">
                    <!-- Daily deals loaded dynamically -->
                </div>
            </div>

            <!-- Flash Sales -->
            <div class="flash-sales" id="flashSales" style="display: none;">
                <div class="deals-category-header">
                    <h3><i class="fas fa-bolt"></i> Flash Sale</h3>
                    <div class="flash-timer" id="flashTimer">
                        <i class="fas fa-stopwatch"></i>
                        <span id="flashTimeLeft">Loading...</span>
                    </div>
                </div>
                <div class="deals-grid" id="flashSalesGrid">
                    <!-- Flash sales loaded dynamically -->
                </div>
            </div>

            <!-- Combo Deals -->
            <div class="combo-deals" id="comboDeals" style="display: none;">
                <div class="deals-category-header">
                    <h3><i class="fas fa-layer-group"></i> Combo Deals</h3>
                    <span class="deal-badge">Best Value</span>
                </div>
                <div class="deals-grid" id="comboDealsGrid">
                    <!-- Combo deals loaded dynamically -->
                </div>
            </div>
        </div>
    </section>

    <!-- Store Status Banner -->
    <section class="store-status" id="storeStatus" style="display: none;">
        <div class="container">
            <div class="status-content">
                <div class="status-info">
                    <i class="fas fa-info-circle"></i>
                    <span id="statusMessage">Kitchen information will appear here</span>
                </div>
                <div class="status-actions">
                    <span class="store-hours" id="storeHours">Loading hours...</span>
                    <a href="#" class="store-phone" id="storePhone">
                        <i class="fas fa-phone"></i>
                        Call Kitchen
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Filters Section -->
    <section class="filters-section">
        <div class="container">
            <div class="filters">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchFilter" placeholder="Search dishes...">
                </div>
                
                <div class="filter-group">
                    <select id="categoryFilter">
                        <option value="">All Categories</option>
                        <!-- Categories loaded dynamically -->
                    </select>
                </div>
                
                <div class="filter-group">
                    <select id="availabilityFilter">
                        <option value="">All Items</option>
                        <option value="available">Available</option>
                        <option value="limited">Limited Stock</option>
                        <option value="unavailable">Currently Unavailable</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <select id="sortFilter">
                        <option value="name">Sort by Name</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="popularity">Most Popular</option>
                        <option value="prep-time">Preparation Time</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <button class="clear-filters-btn" onclick="clearAllFilters()">
                        <i class="fas fa-times"></i>
                        Clear Filters
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products-section" id="productsSection">
        <div class="container">
            <div class="section-header">
                <h2>Our Menu</h2>
                <div class="section-info">
                    <p id="locationStatus">Please select a location to view our menu</p>
                    <div class="sync-indicator" id="syncIndicator" style="display: none;">
                        <i class="fas fa-sync-alt"></i>
                        <span>Syncing with kitchen...</span>
                    </div>
                </div>
            </div>
            
            <div class="products-stats" id="productsStats" style="display: none;">
                <div class="stat-item">
                    <span class="stat-label">Total Dishes:</span>
                    <span class="stat-value" id="totalProductsCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Available:</span>
                    <span class="stat-value" id="inStockCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Limited:</span>
                    <span class="stat-value" id="lowStockCount">0</span>
                </div>
            </div>
            
            <div class="product-grid" id="productGrid">
                <!-- Products will be populated here -->
            </div>
            
            <div class="load-more-section" id="loadMoreSection" style="display: none;">
                <button class="load-more-btn" onclick="loadMoreProducts()">
                    <i class="fas fa-plus"></i>
                    Load More Dishes
                </button>
            </div>
        </div>
    </section>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3><i class="fas fa-shopping-bag"></i> Your Order</h3>
            <button class="close-cart" onclick="toggleCart()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="delivery-info" id="deliveryInfo">
            <div class="delivery-option">
                <i class="fas fa-store"></i>
                <span>Pickup - FREE</span>
            </div>
        </div>
        
        <div class="cart-items" id="cartItems">
            <div class="empty-cart">
                <i class="fas fa-utensils"></i>
                <p>Your order is empty</p>
                <small>Add dishes to get started</small>
            </div>
        </div>
        
        <div class="cart-summary" id="cartSummary" style="display: none;">
            <div class="summary-row">
                <span>Subtotal:</span>
                <span id="subtotal">₦0</span>
            </div>
            <div class="summary-row">
                <span>Delivery Fee:</span>
                <span id="deliveryFee">₦0</span>
            </div>
            <div class="summary-row total">
                <span>Total:</span>
                <span id="totalAmount">₦0</span>
            </div>
            
            <button class="checkout-btn" id="checkoutBtn" onclick="showCheckoutForm()">
                <i class="fab fa-whatsapp"></i>
                Order via WhatsApp
            </button>
        </div>
    </div>

    <!-- Checkout Form Modal -->
    <div class="checkout-modal" id="checkoutModal">
        <div class="checkout-content">
            <div class="checkout-header">
                <h3><i class="fas fa-clipboard-list"></i> Complete Your Order</h3>
                <button class="close-checkout" onclick="closeCheckoutForm()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="checkoutForm">
                <div class="checkout-section">
                    <h4><i class="fas fa-user"></i> Contact Information</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Full Name *</label>
                            <input type="text" id="customerName" required>
                        </div>
                        <div class="form-group">
                            <label>Phone Number *</label>
                            <input type="tel" id="customerPhone" required placeholder="+234">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email (Optional)</label>
                        <input type="email" id="customerEmail" placeholder="your@email.com">
                    </div>
                </div>

                <div class="checkout-section" id="deliverySection">
                    <h4><i class="fas fa-motorcycle"></i> Delivery Information</h4>
                    <div class="form-group">
                        <label>Delivery Address *</label>
                        <textarea id="deliveryAddress" rows="3" placeholder="Enter your full delivery address"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Delivery Instructions (Optional)</label>
                        <textarea id="deliveryInstructions" rows="2" placeholder="Any special delivery instructions"></textarea>
                    </div>
                </div>

                <div class="checkout-section" id="pickupSection" style="display: none;">
                    <h4><i class="fas fa-store"></i> Pickup Information</h4>
                    <div class="pickup-info">
                        <i class="fas fa-store"></i>
                        <div>
                            <strong id="pickupLocationName">Selected Kitchen</strong>
                            <p id="pickupLocationAddress">Kitchen address will appear here</p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Preferred Pickup Time</label>
                        <select id="pickupTime">
                            <option value="">Select preferred time</option>
                            <option value="asap">ASAP (30-45 mins)</option>
                            <option value="lunch">Lunch Time (12PM - 2PM)</option>
                            <option value="evening">Evening (6PM - 8PM)</option>
                            <option value="custom">Custom time</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Special Notes (Optional)</label>
                        <textarea id="pickupNotes" rows="2" placeholder="Any special instructions or dietary requirements"></textarea>
                    </div>
                </div>

                <div class="checkout-section">
                    <h4><i class="fas fa-receipt"></i> Order Summary</h4>
                    <div id="checkoutOrderSummary"></div>
                </div>

                <div class="checkout-actions">
                    <button type="button" class="btn-secondary" onclick="closeCheckoutForm()">
                        <i class="fas fa-arrow-left"></i>
                        Back to Cart
                    </button>
                    <button type="submit" class="btn-whatsapp">
                        <i class="fab fa-whatsapp"></i>
                        Send Order via WhatsApp
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!-- Add this AFTER the existing checkout modal (before cart overlay) -->
    
    <!-- Product Customization Modal -->
    <div class="product-modal" id="productModal">
        <div class="product-modal-content">
            <div class="product-modal-header">
                <h3 id="productModalTitle">Customize Your Order</h3>
                <button class="close-product-modal" onclick="closeProductModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="product-modal-body">
                <div class="product-image-section">
                    <div class="product-main-image">
                        <img id="productModalImage" src="" alt="">
                    </div>
                    <div class="product-price-display">
                        <span class="current-price" id="modalCurrentPrice">₦0</span>
                        <span class="base-price" id="modalBasePrice">₦0</span>
                    </div>
                </div>
                
                <div class="product-options-section">
                    <!-- Size Options -->
                    <div class="option-group" id="sizeOptions" style="display: none;">
                        <h4><i class="fas fa-expand-arrows-alt"></i> Choose Size</h4>
                        <div class="option-buttons" id="sizeButtons"></div>
                    </div>
                    
                    <!-- Flavor Options -->
                    <div class="option-group" id="flavorOptions" style="display: none;">
                        <h4><i class="fas fa-birthday-cake"></i> Choose Flavor</h4>
                        <div class="option-buttons" id="flavorButtons"></div>
                    </div>
                    
                    <!-- Shape Options -->
                    <div class="option-group" id="shapeOptions" style="display: none;">
                        <h4><i class="fas fa-shapes"></i> Choose Shape</h4>
                        <div class="option-buttons" id="shapeButtons"></div>
                    </div>
                    
                    <!-- Frosting Options -->
                    <div class="option-group" id="frostingOptions" style="display: none;">
                        <h4><i class="fas fa-cookie-bite"></i> Choose Frosting</h4>
                        <div class="option-buttons" id="frostingButtons"></div>
                    </div>
                    
                    <!-- Spice Level -->
                    <div class="option-group" id="spiceOptions" style="display: none;">
                        <h4><i class="fas fa-pepper-hot"></i> Spice Level</h4>
                        <div class="option-buttons" id="spiceButtons"></div>
                    </div>
                    
                    <!-- Custom Text Input -->
                    <div class="option-group" id="customTextOption" style="display: none;">
                        <h4><i class="fas fa-font"></i> Custom Message</h4>
                        <div class="custom-text-input">
                            <input type="text" id="customText" placeholder="Enter your custom message..." maxlength="50">
                            <small class="char-counter">0/50 characters</small>
                        </div>
                    </div>
                    
                    <!-- Add-ons -->
                    <div class="option-group" id="addonsOptions" style="display: none;">
                        <h4><i class="fas fa-plus-circle"></i> Add-ons</h4>
                        <div class="addons-list" id="addonsList"></div>
                    </div>
                    
                    <!-- Special Instructions -->
                    <div class="option-group">
                        <h4><i class="fas fa-sticky-note"></i> Special Instructions</h4>
                        <textarea id="specialInstructions" placeholder="Any special requests or dietary requirements..." rows="3"></textarea>
                    </div>
                    
                    <!-- Quantity Selection -->
                    <div class="quantity-section">
                        <h4><i class="fas fa-sort-numeric-up"></i> Quantity</h4>
                        <div class="quantity-controls large">
                            <button class="quantity-btn" onclick="updateModalQuantity(-1)">
                                <i class="fas fa-minus"></i>
                            </button>
                            <input type="number" id="modalQuantity" value="1" min="1" max="10">
                            <button class="quantity-btn" onclick="updateModalQuantity(1)">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="product-modal-footer">
                <div class="modal-price-summary">
                    <div class="price-breakdown" id="priceBreakdown"></div>
                    <div class="total-price">
                        Total: <span id="modalTotalPrice">₦0</span>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn-secondary" onclick="closeProductModal()">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn-primary" onclick="addCustomizedToCart()">
                        <i class="fas fa-cart-plus"></i> Add to Order
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Product Modal Overlay -->
    <div class="product-modal-overlay" id="productModalOverlay" onclick="closeProductModal()"></div>
    
    <!-- Add this to your existing notification banner section -->
    <!-- Enhancement Banner (for new features) -->
    <div class="enhancement-banner" id="enhancementBanner" style="display: none;">
        <div class="enhancement-content">
            <div class="enhancement-info">
                <i class="fas fa-magic"></i>
                <div>
                    <h4>New! Customize Your Orders</h4>
                    <p>Choose sizes, flavors, and add special touches to make it perfect</p>
                </div>
            </div>
            <button class="dismiss-enhancement" onclick="dismissEnhancementBanner()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Add this after your product modal section -->
    <!-- Interactive Cake Builder Modal -->
    <div class="cake-builder-modal" id="cakeBuilderModal">
        <div class="cake-builder-content">
            <div class="cake-builder-header">
                <h3><i class="fas fa-magic"></i> Design Your Perfect Cake</h3>
                <button class="close-cake-builder" onclick="closeCakeBuilder()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="cake-builder-body">
                <!-- Visual Preview Section -->
                <div class="cake-preview-section">
                    <div class="cake-canvas-container">
                        <canvas id="cakeCanvas" width="400" height="400"></canvas>
                        <div class="preview-controls">
                            <button class="preview-btn" onclick="rotateCake(-90)">
                                <i class="fas fa-undo"></i> Rotate Left
                            </button>
                            <button class="preview-btn" onclick="rotateCake(90)">
                                <i class="fas fa-redo"></i> Rotate Right
                            </button>
                            <button class="preview-btn" onclick="resetCakeView()">
                                <i class="fas fa-home"></i> Reset View
                            </button>
                        </div>
                    </div>
                    
                    <div class="cake-info-display">
                        <div class="cake-size-display">
                            <i class="fas fa-ruler"></i>
                            <span id="cakeSizeDisplay">Select a size</span>
                        </div>
                        <div class="cake-serves-display">
                            <i class="fas fa-users"></i>
                            <span id="cakeServesDisplay">Select size to see servings</span>
                        </div>
                        <div class="cake-price-display">
                            <span class="live-price" id="cakeLivePrice">₦0</span>
                        </div>
                    </div>
                </div>
                
                <!-- Design Controls Section -->
                <div class="cake-design-section">
                    <div class="design-tabs">
                        <button class="design-tab active" data-tab="basics" onclick="switchDesignTab('basics')">
                            <i class="fas fa-cookie-bite"></i> Basics
                        </button>
                        <button class="design-tab" data-tab="decorations" onclick="switchDesignTab('decorations')">
                            <i class="fas fa-palette"></i> Decorations
                        </button>
                        <button class="design-tab" data-tab="text" onclick="switchDesignTab('text')">
                            <i class="fas fa-font"></i> Message
                        </button>
                        <button class="design-tab" data-tab="extras" onclick="switchDesignTab('extras')">
                            <i class="fas fa-plus-circle"></i> Extras
                        </button>
                    </div>
                    
                    <!-- Basics Tab -->
                    <div class="design-tab-content active" id="basicsTab">
                        <div class="design-option-group">
                            <h4><i class="fas fa-expand-arrows-alt"></i> Cake Size</h4>
                            <div class="size-options">
                                <div class="size-option" data-size="small" onclick="selectCakeSize('small')">
                                    <div class="size-visual small-cake"></div>
                                    <div class="size-details">
                                        <span class="size-name">Small (6")</span>
                                        <span class="size-serves">4-6 people</span>
                                        <span class="size-price">₦8,000</span>
                                    </div>
                                </div>
                                <div class="size-option" data-size="medium" onclick="selectCakeSize('medium')">
                                    <div class="size-visual medium-cake"></div>
                                    <div class="size-details">
                                        <span class="size-name">Medium (8")</span>
                                        <span class="size-serves">8-10 people</span>
                                        <span class="size-price">₦11,000</span>
                                    </div>
                                </div>
                                <div class="size-option" data-size="large" onclick="selectCakeSize('large')">
                                    <div class="size-visual large-cake"></div>
                                    <div class="size-details">
                                        <span class="size-name">Large (10")</span>
                                        <span class="size-serves">12-15 people</span>
                                        <span class="size-price">₦14,000</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="design-option-group">
                            <h4><i class="fas fa-birthday-cake"></i> Flavor</h4>
                            <div class="flavor-grid">
                                <div class="flavor-option" data-flavor="vanilla" onclick="selectCakeFlavor('vanilla')">
                                    <div class="flavor-color vanilla-color"></div>
                                    <span>Vanilla</span>
                                </div>
                                <div class="flavor-option" data-flavor="chocolate" onclick="selectCakeFlavor('chocolate')">
                                    <div class="flavor-color chocolate-color"></div>
                                    <span>Chocolate (+₦500)</span>
                                </div>
                                <div class="flavor-option" data-flavor="red-velvet" onclick="selectCakeFlavor('red-velvet')">
                                    <div class="flavor-color red-velvet-color"></div>
                                    <span>Red Velvet (+₦1,000)</span>
                                </div>
                                <div class="flavor-option" data-flavor="carrot" onclick="selectCakeFlavor('carrot')">
                                    <div class="flavor-color carrot-color"></div>
                                    <span>Carrot (+₦800)</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="design-option-group">
                            <h4><i class="fas fa-shapes"></i> Shape</h4>
                            <div class="shape-options">
                                <div class="shape-option" data-shape="round" onclick="selectCakeShape('round')">
                                    <div class="shape-visual round-shape"></div>
                                    <span>Round</span>
                                </div>
                                <div class="shape-option" data-shape="square" onclick="selectCakeShape('square')">
                                    <div class="shape-visual square-shape"></div>
                                    <span>Square (+₦500)</span>
                                </div>
                                <div class="shape-option" data-shape="heart" onclick="selectCakeShape('heart')">
                                    <div class="shape-visual heart-shape"></div>
                                    <span>Heart (+₦1,500)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Decorations Tab -->
                    <div class="design-tab-content" id="decorationsTab">
                        <div class="design-option-group">
                            <h4><i class="fas fa-palette"></i> Frosting Color</h4>
                            <div class="color-palette">
                                <div class="color-option" data-color="white" style="background: #ffffff" onclick="selectFrostingColor('white')"></div>
                                <div class="color-option" data-color="pink" style="background: #ffb6c1" onclick="selectFrostingColor('pink')"></div>
                                <div class="color-option" data-color="blue" style="background: #87ceeb" onclick="selectFrostingColor('blue')"></div>
                                <div class="color-option" data-color="yellow" style="background: #ffffe0" onclick="selectFrostingColor('yellow')"></div>
                                <div class="color-option" data-color="green" style="background: #98fb98" onclick="selectFrostingColor('green')"></div>
                                <div class="color-option" data-color="purple" style="background: #dda0dd" onclick="selectFrostingColor('purple')"></div>
                            </div>
                        </div>
                        
                        <div class="design-option-group">
                            <h4><i class="fas fa-star"></i> Decorative Elements</h4>
                            <div class="decoration-grid">
                                <div class="decoration-item" data-decoration="flowers" onclick="toggleDecoration('flowers')">
                                    <i class="fas fa-flower"></i>
                                    <span>Flowers (+₦800)</span>
                                </div>
                                <div class="decoration-item" data-decoration="stars" onclick="toggleDecoration('stars')">
                                    <i class="fas fa-star"></i>
                                    <span>Stars (+₦600)</span>
                                </div>
                                <div class="decoration-item" data-decoration="hearts" onclick="toggleDecoration('hearts')">
                                    <i class="fas fa-heart"></i>
                                    <span>Hearts (+₦600)</span>
                                </div>
                                <div class="decoration-item" data-decoration="ribbons" onclick="toggleDecoration('ribbons')">
                                    <i class="fas fa-ribbon"></i>
                                    <span>Ribbons (+₦700)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Text Tab -->
                    <div class="design-tab-content" id="textTab">
                        <div class="design-option-group">
                            <h4><i class="fas fa-font"></i> Custom Message</h4>
                            <div class="text-input-section">
                                <input type="text" id="cakeMessageInput" placeholder="Enter your message..." maxlength="30" oninput="updateCakeText()">
                                <div class="text-style-options">
                                    <select id="textFont" onchange="updateTextStyle()">
                                        <option value="arial">Arial</option>
                                        <option value="georgia">Georgia</option>
                                        <option value="cursive">Cursive</option>
                                    </select>
                                    <div class="text-color-options">
                                        <div class="text-color" data-color="#000000" style="background: #000000" onclick="selectTextColor('#000000')"></div>
                                        <div class="text-color" data-color="#ffffff" style="background: #ffffff" onclick="selectTextColor('#ffffff')"></div>
                                        <div class="text-color" data-color="#ff0000" style="background: #ff0000" onclick="selectTextColor('#ff0000')"></div>
                                        <div class="text-color" data-color="#0000ff" style="background: #0000ff" onclick="selectTextColor('#0000ff')"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="text-position-controls">
                                <h5>Text Position</h5>
                                <div class="position-options">
                                    <button class="position-btn" data-position="top" onclick="setTextPosition('top')">Top</button>
                                    <button class="position-btn active" data-position="center" onclick="setTextPosition('center')">Center</button>
                                    <button class="position-btn" data-position="bottom" onclick="setTextPosition('bottom')">Bottom</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Extras Tab -->
                    <div class="design-tab-content" id="extrasTab">
                        <div class="design-option-group">
                            <h4><i class="fas fa-plus-circle"></i> Add-ons</h4>
                            <div class="extras-list">
                                <label class="extra-item">
                                    <input type="checkbox" data-extra="candles" onchange="toggleExtra('candles', 500)">
                                    <div class="extra-info">
                                        <span class="extra-name">Birthday Candles Set</span>
                                        <span class="extra-price">+₦500</span>
                                    </div>
                                </label>
                                <label class="extra-item">
                                    <input type="checkbox" data-extra="topper" onchange="toggleExtra('topper', 2000)">
                                    <div class="extra-info">
                                        <span class="extra-name">Custom Cake Topper</span>
                                        <span class="extra-price">+₦2,000</span>
                                    </div>
                                </label>
                                <label class="extra-item">
                                    <input type="checkbox" data-extra="box" onchange="toggleExtra('box', 800)">
                                    <div class="extra-info">
                                        <span class="extra-name">Premium Gift Box</span>
                                        <span class="extra-price">+₦800</span>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="cake-builder-footer">
                <div class="design-summary">
                    <div class="summary-item">
                        <span class="summary-label">Estimated Time:</span>
                        <span class="summary-value" id="estimatedTime">2-3 hours</span>
                    </div>
                    <div class="total-price-display">
                        <span class="price-label">Total Price:</span>
                        <span class="price-value" id="builderTotalPrice">₦8,000</span>
                    </div>
                </div>
                <div class="builder-actions">
                    <button class="btn-secondary" onclick="saveCakeDesign()">
                        <i class="fas fa-save"></i> Save Design
                    </button>
                    <button class="btn-primary" onclick="addCakeToCart()">
                        <i class="fas fa-cart-plus"></i> Add to Cart
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Cake Builder Overlay -->
    <div class="cake-builder-overlay" id="cakeBuilderOverlay" onclick="closeCakeBuilder()"></div>
    
    <!-- Saved Designs Modal -->
    <div class="saved-designs-modal" id="savedDesignsModal">
        <div class="saved-designs-content">
            <div class="saved-designs-header">
                <h3><i class="fas fa-folder-open"></i> Your Saved Designs</h3>
                <button class="close-saved-designs" onclick="closeSavedDesigns()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="saved-designs-grid" id="savedDesignsGrid">
                <!-- Saved designs will be populated here -->
            </div>
        </div>
    </div>
    
    <!-- Overlays -->
    <div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>
    <div class="location-overlay" id="locationOverlay"></div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Update Indicator -->
    <div class="update-indicator" id="updateIndicator" style="display: none;">
        <i class="fas fa-sync-alt"></i>
        <span>Menu updated</span>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions-customer" id="quickActionsCustomer">
        <button class="quick-action-btn" onclick="scrollToTop()" title="Back to top">
            <i class="fas fa-arrow-up"></i>
        </button>
        <button class="quick-action-btn" onclick="toggleCart()" title="View order">
            <i class="fas fa-shopping-cart"></i>
            <span class="quick-cart-count" id="quickCartCount">0</span>
        </button>
        <button class="quick-action-btn" onclick="refreshData()" title="Refresh menu">
            <i class="fas fa-sync-alt"></i>
        </button>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Naija Bites</h4>
                    <p>Bringing you the authentic taste of Nigeria with fresh ingredients and traditional recipes.</p>
                    <div class="social-links">
                        <a href="#" class="social-link" title="Facebook">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="#" class="social-link" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link" title="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link" title="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Popular Dishes</h4>
                    <ul id="popularDishes">
                        <li>Loading...</li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Our Kitchens</h4>
                    <ul class="locations-list" id="footerLocations">
                        <li>Loading locations...</li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <div class="contact-info">
                        <p><i class="fas fa-phone"></i> +234 812 345 6000</p>
                        <p><i class="fas fa-envelope"></i> hello@naijabites.ng</p>
                        <p><i class="fas fa-clock"></i> Mon-Sun: 9:00 AM - 11:00 PM</p>
                        <p><i class="fas fa-motorcycle"></i> Free delivery on orders ₦15,000+</p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-bottom-content">
                    <p>&copy; 2025 Naija Bites. All rights reserved.</p>
                    <div class="footer-links">
                        <a href="admin.html" class="admin-link" id="adminLink" style="display: none;">
                            <i class="fas fa-cog"></i>
                            Admin Panel
                        </a>
                        <button class="theme-toggle-footer" onclick="toggleTheme()" title="Toggle theme">
                            <i class="fas fa-moon"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Loading menu...</p>
        </div>
    </div>

    <!-- Offline Indicator -->
    <div class="offline-indicator" id="offlineIndicator" style="display: none;">
        <div class="offline-content">
            <i class="fas fa-wifi"></i>
            <span>You're offline. Some features may not work.</span>
            <button onclick="retryConnection()">Retry</button>
        </div>
    </div>

    <!-- Install App Banner -->
    <div class="install-banner" id="installBanner" style="display: none;">
        <div class="install-content">
            <div class="install-info">
                <i class="fas fa-mobile-alt"></i>
                <div>
                    <h4>Install Naija Bites App</h4>
                    <p>Get faster access and offline menu browsing</p>
                </div>
            </div>
            <div class="install-actions">
                <button class="install-btn" onclick="installApp()">Install</button>
                <button class="dismiss-btn" onclick="dismissInstallBanner()">Later</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
